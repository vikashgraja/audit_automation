{% extends "Nav.html" %}
{% load static %}
<!--https://reintech.io/blog/creating-a-custom-user-management-system-in-django-->
{% block content %}

<link rel="stylesheet" href="{% static 'css/tables.css' %}">

<br><br>
<table border="2">
    <thead>
        <tr>
            <th style="width:2%">S.No</th>
            <th>User ID</th>
            <th>E-Mail</th>
            <th>Name</th>
            <th>Admin</th>
            <th style="width:40%">Actions</th>
        </tr>
    </thead>
    <tfoot>
        <tr>
            <th colspan='6'>
                <a class='button' href="{% url 'register' %}">Add Auditors</a>
            </th>
        </tr>
    </tfoot>
    {% for user in users %}
    <tr>
        <td>{{ forloop.counter }}</td>
        <td> {{user.employee_id}} </td>
        <td> {{user.email}} </td>
        <td> {{user.first_name}} {{user.last_name}}</td>
        <td> {{user.is_superuser}} </td>
        <td class='select'>
            <a class='button' href="{% url 'edit_user' employee_id=user.employee_id %}"> Edit User</a>
            <a class='button' href="{% url 'delete_user' employee_id=user.employee_id %}"
                onclick="return confirm('Are You Sure to delete {{user.employee_id}}')"> Delete User</a>
            <a class='button' href="{% url 'update_admin' employee_id=user.employee_id %}"
                onclick="return confirm('Change Admin for {{user}}')"> Change Admin Status</a>
        </td>
    </tr>
    {% endfor %}
</table>

{% endblock content %}
